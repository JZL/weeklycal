<html>

<head>
    <style>
        * {
            font-family: monospace;
            font-size: 10px;
        }

        body {
            margin: 0px;
        }

        table {
            border-collapse: collapse;
        }

        .mainTable:nth-of-type(2) {
            border-style: dotted;
        }


        td {
            vertical-align: top;
            padding: 0px;
        }

        .mainTable>tbody>tr>td {
            border: black solid 1px;
        }

        table,
        .fw {
            width: 100%;
        }

        .hw {
            width: 50%;
            position: relative;
        }

        .qw {
            width: 75%;
        }

        .hour {
            width: 1%;
        }

        .sharp {
            font-size: 5px;
            font-family: sans-serif;
            float: right;
            position: absolute;
            right: 0;
            width: 30%;
            text-align: left;
            writing-mode: vertical-rl;
        }


        hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 1px solid black;
            padding: 1px;
            -webkit-margin-start: 0px;
            -webkit-margin-end: 0px;
            -webkit-margin-before: 0px;
            -webkit-margin-after: 0px;
        }

        @media all {
            .page-break {
                display: none;
            }

        }

        @media print {
            .not_print {
                display: none;
            }
            .page-break {
                display: block;
                page-break-before: always;
            }
        }
        /* Sunday parent container -> relative so sunday can be abs positioned
         * at the bottom
         */
        #weeks > table > tbody > tr:nth-child(3) > td:nth-child(2){
            position: relative;
        }
        .sun{
            position:absolute;
            bottom: 0;
            width: 99%;
        }

        .due, .todo{
            text-align: left;
        }

    </style>
</head>

<body>
    <div id="auth" class="not_print">
        <button id="authorize-button" style="display: none;">Authorize</button>
        <div id="signedIn" style="display: none;">
            <button id="signout-button">Sign Out</button>
            <button onclick="back1Week()">Back 1 Week</button>
            <div id="userEmail"></div>
					<b><u>Make sure to check back of paper</u></b>
					<br>
        </div>
    </div>
    <script src="handlebars.min.js"></script>
    <script>
    </script>
    <script id="maintable_template" type="text/x-handlebars-template">
        <table class="mainTable">
            <!-- TODO: set bordercolor #000000, #D3D3D3 -->
            <tbody>
                {{#each this}}
                <tr>
                    {{#each this}}
                    <td valign="top" class="hw">
                        {{> dayCell}}
                        {{#if this.sun}}
                            <div class="sun">
                                <hr> {{#with this.sun}} {{> dayCell}} {{/with}}
                            </div>
                        {{/if}}
                    </td>
                    {{/each}}
                </tr>
                {{/each}}
            </tbody>
        </table>
        <div class="not_print">
            <br><br>
        </div>
    </script>
<script id="dayCell_partial" type="text/x-handlebars-template">
    <div class="sharp">{{{sharples}}}</div>
    <table style="float:left">
        <tbody>
            <tr>
                <td valign="top" style="text-align: center;" colspan="2">
                    {{this.dateString}}
                </td>
                <tr>
                    <td class="due" colspan="2">
                        {{{due}}}
                    </td>
                </tr>
            </tr>
            {{>hourRow}}
            <tr>
                <td class="todo" colspan="2">
                    {{{TODO}}}
                </td>
            </tr>
        </tbody>
    </table>
</script>
    <script id="hourRow_partial" type="text/x-handlebars-template">
        {{#each this.timedEvent}}
        <tr>
            <td class="hour">{{{this.[0]}}}</td>
            <td class="qw">{{{this.[1]}}}</td>
        </tr>
        {{/each}}
    </script>
    <div id="weeks"></div>
</body>

<!--
        TODO: when get templates down, precompile and include dist-core.js
        <script src="node_modules/dustjs-linkedin/dist/dust-full.js">
-->
<script src="scrapeSharples.js"></script>
<script src="makeCalendar.js"></script>
<script src="oauth.js"></script>
<script async defer src="https://apis.google.com/js/api.js" onload="this.onload=function(){};handleClientLoad()" onreadystatechange="if (this.readyState === 'complete') this.onload()">
</script>


</html>
